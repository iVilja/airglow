(this.webpackJsonpairglow=this.webpackJsonpairglow||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(2),c=n(3),s=n(11),o=n(5),l=n(6),u=n(4),d=n(8),h=n(7),g=(n(10),n(18),n(12)),m=function(e){return Array.from({length:3}).forEach((function(t,n){return e[n].delete()}))},f=function(e){var t=cv.getOptimalDFTSize(e.rows),n=cv.getOptimalDFTSize(e.cols),a=new cv.Mat,r=cv.Scalar.all(0);cv.copyMakeBorder(e,a,0,t-e.rows,0,n-e.cols,cv.BORDER_CONSTANT,r);var i=new cv.Mat;a.convertTo(i,cv.CV_32F);var c=new cv.MatVector,s=new cv.Mat,o=new cv.Mat.zeros(a.rows,a.cols,cv.CV_32F);return c.push_back(i),c.push_back(o),cv.merge(c,s),cv.dft(s,s),a.delete(),i.delete(),o.delete(),c.delete(),s},v=function(e){var t=new cv.Mat;cv.idft(e,t,cv.DFT_SCALE);var n=new cv.MatVector;cv.split(t,n);var a=n.get(0);return n.delete(),a},p=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cv.matFromImageData(t),a=new cv.MatVector,cv.split(n,a),i=Array.from({length:3}).map((function(e,t){return f(a.get(t))})),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a){var i,c,s,o,l,u,d,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new cv.MatVector,c=Object(g.a)(t);try{for(c.s();!(s=c.n()).done;)o=s.value,l=v(o),i.push_back(l),l.delete()}catch(n){c.e(n)}finally{c.f()}return u=new cv.Mat,d=new cv.Mat,cv.merge(i,u),u.convertTo(d,cv.CV_8UC4),cv.cvtColor(d,d,cv.COLOR_RGB2RGBA),h=new ImageData(new Uint8ClampedArray(d.data),d.cols,d.rows),i.delete(),u.delete(),d.delete(),e.abrupt("return",h);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),j=function(e,t,n){var a=e[t];e[t]=e[n],e[n]=a},w=function(){var e="1.0.0",t=window.location.pathname.split("/");if(t.length>1){var n=t[1];if("dev"===n)return n;if(n.startsWith("v")){var a=n.slice(1);if(!e.startsWith(a))return"???"}}return e},x=function(e,t){if("dev"===e)return-1;if("dev"===t)return 1;for(var n=/^(\d+)\.(\d+)\.(\d+)$/,a=n.exec(e)||["0","0","0","0"],r=n.exec(t)||["0","0","0","0"],i=0,c=[1,2,3];i<c.length;i++){var s=c[i],o=parseInt(a[s],10),l=parseInt(r[s],10);if(o>l)return-1;if(o<l)return 1}return 0},O=function(e){var t=null===e||void 0===e?void 0:e.getContext("2d");if(!t)throw new Error("No 2D context.");return t},k=4294967296,y=function(){function e(t){Object(o.a)(this,e),this.s={a:0,b:0,c:0,d:0},this.setState(t)}return Object(l.a)(e,[{key:"setState",value:function(t){if(void 0===t||"object"!==typeof t){var n=[e.makeSeed(t)];t={a:e.splitMix32(n),b:e.splitMix32(n),c:e.splitMix32(n),d:e.splitMix32(n)}}this.s=t}},{key:"getState",value:function(){return this.s}},{key:"getPermutation",value:function(e){for(var t=Array.from({length:e},(function(e,t){return t}));e>1;){e-=1;var n=Math.floor(this.random()*e);j(t,e,n)}return t}},{key:"random",value:function(){var e=this.s,t=e.b<<9,n=5*e.a;return n=9*(n<<7|n>>>25),e.c^=e.a,e.d^=e.b,e.b^=e.c,e.a^=e.d,e.c^=t,e.d=e.d<<11|e.d>>>21,(n>>>0)/k}}],[{key:"hashCode",value:function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t%=k}return t}},{key:"makeSeed",value:function(t){return"number"===typeof t?t%k:"string"===typeof t?e.hashCode(t)%k:Date.now()%k}},{key:"splitMix32",value:function(e){e[0]=(e[0]+2654435769)%k;var t=e[0];return((t=3266489909*((t=2246822507*(t^t>>>16)%k)^t>>>13)%k)^t>>>16)%k}}]),e}(),N=function(e,t){var n=Math.floor(e.data.length/4),a=t.getPermutation(Math.floor(n/2)),r=new ImageData(e.data.slice(),e.width,e.height);return a.forEach((function(t,a){for(var i=0;i<4;++i)r.data[4*a+i]=e.data[4*t+i],r.data[4*(n-1-a)+i]=e.data[4*t+i]})),r},C=function(e,t,n,a,r){var i=Math.floor(n.height/2/a.height),c=Math.floor(n.width/a.width);if(0===i||0===c)throw new Error("Secret image is too large: use an image whose width <= ".concat(n.width," and")+" height <= ".concat(Math.floor(n.height/2)));for(var s=a.width,o=a.height,l=0;l<i;++l)for(var u=0;u<c;++u){if((r-=1)<0)return;t.putImageData(a,u*s,l*o)}},D=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=document.createElement("canvas"),i=e.width,c=e.height;r.width=i,r.height=c;var s=O(r);C(0,s,e,t,a);var o=s.getImageData(0,0,i,c),l=N(o,n);return l},S=function(e,t,n){return e.map((function(e,a){var r=new cv.Mat;return cv.addWeighted(t[a],n.alpha,e,1,0,r),r}))},I=function(e,t,n){return e.map((function(e,a){var r=new cv.Mat;return cv.addWeighted(t[a],1,e,-1,0,r),cv.addWeighted(r,n.alpha,r,0,0,r),r}))},M=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a,i,c,s){var o,l,u,d,h,g;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(0,"Initializing");case 2:if(""!==(a=a.trim())){e.next=5;break}throw new Error("Secret key cannot be empty");case 5:return e.next=7,s(5,"Making watermarks");case 7:return o=new y(a),l=D(t,n,o,i),e.next=11,s(20,"Calculating the frequency domain of original image");case 11:return e.next=13,p(t);case 13:return u=e.sent,e.next=16,s(40,"Calculating the frequency domain of watermarks");case 16:return e.next=18,p(l);case 18:return d=e.sent,e.next=21,s(60,"Calculating the frequency domain of encoded image");case 21:return h=S(u,d,{alpha:c}),e.next=24,s(80,"Calculating the resulting image");case 24:return e.next=26,b(h,t.width,t.height);case 26:return g=e.sent,e.next=29,s(100,"Finished!","success");case 29:return m(u),m(d),m(h),e.abrupt("return",g);case 33:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,c){return e.apply(this,arguments)}}(),E=function(e,t){var n=Math.floor(e.data.length/4),a=t.getPermutation(Math.floor(n/2)),r=new ImageData(e.data.slice(),e.width,e.height);return a.forEach((function(t,a){for(var i=0;i<4;++i)r.data[4*t+i]=e.data[4*a+i],r.data[4*(n-1-t)+i]=e.data[4*(n-1-a)+i]})),r},F=function(e,t){var n=document.createElement("canvas"),a=t.width,r=t.height;n.width=a,n.height=r;var i=O(n);return i.drawImage(e,0,0,a,r),i.getImageData(0,0,a,r)},W=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a,i,c){var s,o,l,u,d,h,g;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(0,"Initializing");case 2:if(""!==(a=a.trim())){e.next=5;break}throw new Error("Secret key cannot be empty");case 5:return e.next=7,c(5,"Calculating the frequency domain of original image");case 7:return e.next=9,p(t);case 9:return s=e.sent,e.next=12,c(20,"Scaling the encoded image");case 12:return o=F(n,t),e.next=15,c(30,"Calculating the frequency domain of encoded image");case 15:return e.next=17,p(o);case 17:return l=e.sent,e.next=20,c(45,"Calculating the frequency domain of watermarks");case 20:return u=I(s,l,{alpha:i}),e.next=23,c(60,"Calculating the watermarks image");case 23:return e.next=25,b(u,t.width,t.height);case 25:return d=e.sent,e.next=28,c(80,"Calculating the resulting image");case 28:return h=new y(a),g=E(d,h),e.next=32,c(100,"Finished!","success");case 32:return m(s),m(u),m(l),e.abrupt("return",g);case 36:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),A=(n(19),n(0)),V=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).onVersionSelectedHandler=a.onVersionSelected.bind(Object(u.a)(a));var r=w();return a.state={currentVersion:r,versionList:["latest",r]},a}return Object(l.a)(n,[{key:"fetchVersionList",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,n,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return e.prev=2,e.next=5,fetch("/VERSIONS");case 5:return t=e.sent,e.next=8,t.text();case 8:n=e.sent,a=n.split("\n").filter((function(e){return""!==e.trim()})).map((function(e){return e.startsWith("v")?e.slice(1):e})).sort(x),i=a.filter((function(e,t){return t<2||!e.startsWith(a[t-1].split(".").slice(0,-1).join("."))})),this.setState({versionList:i}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.warn("Unable to fetch the version list.");case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchVersionList()}},{key:"onVersionSelected",value:function(e){var t=e.target.value;e.target&&1===e.target.selectedIndex?window.location.pathname="/stable":window.location.pathname="latest"===t?"/latest":"/v".concat(t)}},{key:"render",value:function(){return Object(A.jsx)("footer",{className:"footer mt-auto py-3",children:Object(A.jsxs)("div",{className:"footer-container container",children:[Object(A.jsxs)("div",{className:"text-muted footer-block",children:["By ",Object(A.jsx)("a",{href:"https://vilja.me",children:"Vilja"})," @ ",Object(A.jsx)("a",{href:"https://github.com/commoon",children:"Commoon Labs"}),".\xa0"]}),Object(A.jsxs)("div",{className:"text-muted footer-block",children:["Source code on ",Object(A.jsx)("a",{href:"https://github.com/ryukina/airglow",children:"GitHub"}),".\xa0"]}),Object(A.jsxs)("div",{className:"footer-block",children:[Object(A.jsx)("span",{className:"text-muted",children:"Version: "}),Object(A.jsx)("select",{className:"custom-select custom-select-sm",value:this.state.currentVersion,onChange:this.onVersionSelectedHandler,children:this.state.versionList.map((function(e,t){return Object(A.jsx)("option",{value:e,children:e+(1===t?" (stable)":"")},t)}))})]})]})})}}]),n}(c.Component),R=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).canvases={encoded:c.createRef(),original:c.createRef(),secret:c.createRef()},a.onDismissAlert=a.dismissAlert.bind(Object(u.a)(a)),a.onLogger=a.logger.bind(Object(u.a)(a)),a.onEncode=a.encode.bind(Object(u.a)(a)),a.onDecode=a.decode.bind(Object(u.a)(a)),a.logging=null,a.isWorking=!1,a.state={alertType:null,formData:{alpha:"1",nWatermarks:"1",secretKey:"Airglow"},images:{encoded:null,original:null,secret:null},progress:0,status:""},window.app=Object(u.a)(a),a}return Object(l.a)(n,[{key:"dismissAlert",value:function(){this.setState({alertType:null,status:""})}},{key:"updateImage",value:function(e,t){var n=this.state.images;n[e]=t,this.setState({images:n})}},{key:"onChangeFile",value:function(e){var t=this;return function(a){var r=t.canvases[e].current;if(null!==r){n.clearCanvas(r);var i=a.target,c=i.files;if(null===c||c.length<1)t.updateImage(e,null);else{var s=c[0],o=new Image,l=new FileReader;o.onload=function(){r.width=o.width,r.height=o.height,O(r).drawImage(o,0,0),t.updateImage(e,o)},l.onloadend=function(){null!==l.result&&(o.src=l.result.toString())},l.readAsDataURL(s),i.value=""}}}}},{key:"logger",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"primary",r=arguments.length>3?arguments[3]:void 0;return new Promise((function(i){"danger"===a?console.error(void 0===r?t:r):console.log(t),n.logging=function(){i()},null===e&&(e=n.state.progress),n.setState({alertType:a,progress:e,status:t})}))}},{key:"componentDidUpdate",value:function(){if(null!==this.logging){var e=this.logging;this.logging=null,setTimeout(e,300)}}},{key:"onDownload",value:function(e){var t=this;return function(n){n.preventDefault();var a=t.canvases[e].current;if(null!==a){var r=a.toDataURL("image/png"),i="".concat(e,".png"),c=window.open("about:blank",i);if(!c)throw Error("Cannot download.");c.document.title=i;var s=c.document.createElement("img");s.src=r,c.document.body.appendChild(s)}}}},{key:"encode",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a,i,c,s,o,l,u,d,h,g,m,f,v,p,b,j=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.isWorking){e.next=3;break}return e.abrupt("return");case 3:this.isWorking=!0,a=this.state.formData,i=a.secretKey,c=a.alpha,s=a.nWatermarks,o={},l=0,u=["original","secret"];case 7:if(!(l<u.length)){e.next=18;break}if(d=u[l],h=d,g=O(this.canvases[h].current),null!==(m=this.state.images[h])){e.next=14;break}return e.abrupt("return");case 14:o[h]=g.getImageData(0,0,m.width,m.height);case 15:l++,e.next=7;break;case 18:if(f=this.canvases.encoded.current){e.next=21;break}throw new Error("Not initialized.");case 21:return n.clearCanvas(f),e.prev=22,e.next=25,M(o.original,o.secret,i,parseInt(s,10),parseFloat(c)/100,this.onLogger);case 25:v=e.sent,f.width=v.width,f.height=v.height,O(f).putImageData(v,0,0),(p=document.createElement("img")).onload=function(){return j.updateImage("encoded",p)},p.src=f.toDataURL("image/png"),e.next=40;break;case 35:return e.prev=35,e.t0=e.catch(22),b=e.t0,e.next=40,this.logger(null,b.message,"danger",b.stack);case 40:this.isWorking=!1;case 41:case"end":return e.stop()}}),e,this,[[22,35]])})));return function(t){return e.apply(this,arguments)}}()},{key:"decode",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a,i,c,s,o,l,u,d,h,g,m,f=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.isWorking){e.next=3;break}return e.abrupt("return");case 3:if(this.isWorking=!0,a=this.state.formData,i=a.alpha,c=a.secretKey,s=O(this.canvases.original.current),null!==(o=this.state.images.original)){e.next=9;break}return e.abrupt("return");case 9:if(l=s.getImageData(0,0,o.width,o.height),null!==(u=this.state.images.encoded)){e.next=13;break}return e.abrupt("return");case 13:if(d=this.canvases.secret.current){e.next=16;break}throw new Error("No canvas.");case 16:return n.clearCanvas(d),e.prev=17,e.next=20,W(l,u,c,parseFloat(i)/100,this.onLogger);case 20:h=e.sent,d.width=h.width,d.height=h.height,O(d).putImageData(h,0,0),(g=document.createElement("img")).onload=function(){return f.updateImage("secret",g)},g.src=d.toDataURL("image/png"),e.next=35;break;case 30:return e.prev=30,e.t0=e.catch(17),m=e.t0,e.next=35,this.logger(null,m.message,"danger",m.stack);case 35:this.isWorking=!1;case 36:case"end":return e.stop()}}),e,this,[[17,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,n=this.state,a=n.alertType,r=n.formData,i=n.images,c=n.progress,s=n.status,o=null===i.original||null===i.secret||""===r.secretKey.trim(),l=null===i.encoded||null===i.original||""===r.secretKey.trim(),u=(e=i.original,t=i.secret,null===e||null===t?0:Math.floor(e.height/2/t.height)*Math.floor(e.width/t.width));return Object(A.jsxs)("div",{className:"App",children:[Object(A.jsxs)("form",{className:"airglow-form container-fluid",children:[Object(A.jsxs)("h1",{children:["Airglow (",w(),")"]}),Object(A.jsxs)("div",{className:"alert alert-dismissible fade show"+(null!==a?" alert-".concat(a):""),role:"alert",style:{display:null===a?"none":"block"},children:[s,Object(A.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.onDismissAlert,children:Object(A.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(A.jsx)("div",{className:"airglow-progress progress",children:Object(A.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"".concat(c,"%")}})}),Object(A.jsxs)("div",{className:"row",children:[Object(A.jsxs)("div",{className:"col-12 col-lg-4 container",children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("div",{className:"airglow-canvas-container",children:Object(A.jsx)("canvas",{className:"airglow-canvas",width:10,height:10,ref:this.canvases.secret})}),Object(A.jsxs)("div",{className:"airglow-file input-group",children:[Object(A.jsx)("div",{className:"input-group-prepend",children:Object(A.jsx)("span",{className:"input-group-text",children:"Secret Image"})}),Object(A.jsxs)("div",{className:"custom-file",children:[Object(A.jsx)("input",{type:"file",className:"custom-file-input",onChange:this.onChangeFile("secret")}),Object(A.jsx)("label",{className:"custom-file-label",htmlFor:"inputGroupSecretImage",children:null===i.secret?"":"".concat(i.secret.width,"*").concat(i.secret.height)})]})]})]}),Object(A.jsxs)("div",{className:"form-group input-group",children:[Object(A.jsx)("div",{className:"input-group-prepend",children:Object(A.jsx)("label",{className:"input-group-text",htmlFor:"forNWatermarks",children:"Number of Watermarks"})}),Object(A.jsx)("input",{type:"number",className:"form-control",id:"forNWatermarks",min:1,max:u,value:r.nWatermarks,onChange:this.onChangeFormData("nWatermarks")})]})]}),Object(A.jsxs)("div",{className:"col-12 col-lg-4 container",children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("div",{className:"airglow-canvas-container",children:Object(A.jsx)("canvas",{className:"airglow-canvas",width:10,height:10,ref:this.canvases.original})}),Object(A.jsxs)("div",{className:"airglow-file form-group input-group",children:[Object(A.jsx)("div",{className:"input-group-prepend",children:Object(A.jsx)("span",{className:"input-group-text",children:"Original Image"})}),Object(A.jsxs)("div",{className:"custom-file",children:[Object(A.jsx)("input",{type:"file",className:"custom-file-input",onChange:this.onChangeFile("original")}),Object(A.jsx)("label",{className:"custom-file-label",htmlFor:"inputGroupOriginalImage",children:null===i.original?"":"".concat(i.original.width,"*").concat(i.original.height)})]})]})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsxs)("div",{className:"input-group",children:[Object(A.jsx)("div",{className:"input-group-prepend",children:Object(A.jsx)("label",{className:"input-group-text",htmlFor:"formSecretKey",children:"Secret Key"})}),Object(A.jsx)("input",{type:"text",className:"form-control",id:"formSecretKey",value:r.secretKey,onChange:this.onChangeFormData("secretKey")})]}),Object(A.jsx)("small",{className:"form-text text-muted",children:"A secret key used to encrypt the data."})]}),Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsxs)("label",{htmlFor:"forAlpha",children:["Alpha: ",parseFloat(r.alpha)/100]}),Object(A.jsx)("input",{type:"range",className:"custom-range",id:"forAlpha",min:1,max:100,value:r.alpha,onChange:this.onChangeFormData("alpha")})]}),Object(A.jsxs)("div",{className:"airglow-buttons form-group",children:[Object(A.jsx)("button",{className:"airglow-button btn btn-primary",disabled:o,onClick:this.onEncode,children:"Encode!"}),Object(A.jsx)("button",{className:"airglow-button btn btn-primary",disabled:l,onClick:this.onDecode,children:"Decode!"})]})]}),Object(A.jsxs)("div",{className:"col-12 col-lg-4 container",children:[Object(A.jsxs)("div",{className:"form-group",children:[Object(A.jsx)("div",{className:"airglow-canvas-container",children:Object(A.jsx)("canvas",{className:"airglow-canvas",width:10,height:10,ref:this.canvases.encoded})}),Object(A.jsxs)("div",{className:"airglow-file input-group",children:[Object(A.jsx)("div",{className:"input-group-prepend",children:Object(A.jsx)("span",{className:"input-group-text",children:"Encoded Image"})}),Object(A.jsxs)("div",{className:"custom-file",children:[Object(A.jsx)("input",{type:"file",className:"custom-file-input",onChange:this.onChangeFile("encoded")}),Object(A.jsx)("label",{className:"custom-file-label",htmlFor:"inputGroupEncodedImage",children:null===i.encoded?"":"".concat(i.encoded.width,"*").concat(i.encoded.height)})]})]})]}),Object(A.jsx)("div",{className:"airglow-buttons form-group",children:Object(A.jsx)("button",{className:"airglow-button btn btn-primary",disabled:null===i.encoded,onClick:this.onDownload("encoded"),children:"Download"})})]})]})]}),Object(A.jsx)(V,{})]})}},{key:"onChangeFormData",value:function(e){var t=this;return function(n){var a=t.state.formData;a[e]=n.target.value,t.setState({formData:a})}}}],[{key:"clearCanvas",value:function(e){e.width=10,e.height=10,O(e).clearRect(0,0,10,10)}}]),n}(c.Component),L=(n(21),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function T(){if("serviceWorker"in navigator){if(new URL(".",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat(".","/service-worker.js");L?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):K(e)}))}}function K(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}window.onOpenCVReady=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete window.onOpenCVReady,e.next=3,window.cv;case 3:window.cv=e.sent,s.render(Object(A.jsx)(R,{}),document.getElementById("root")),T();case 6:case"end":return e.stop()}}),e)})))}},[[22,1,2]]]);
//# sourceMappingURL=main.01db9338.chunk.js.map